# Global deployment configuration for the PayPay stack.
# Copy this file to infra/env/.env and fill in the secrets before running docker compose.

# --- Public domains & TLS ---
# Primary UI domain served by Caddy and Next.js (e.g. paypay.example.com)
PAYPAY_DOMAIN=
# Public API domain for the NestJS BFF (e.g. api.paypay.example.com)
PAYPAY_API_DOMAIN=
# Email used by Caddy when requesting certificates from Let's Encrypt/ZeroSSL
CADDY_ADMIN_EMAIL=

# --- Frontend (Next.js) ---
# Public origin of the BFF; must be https://<PAYPAY_API_DOMAIN>
NEXT_PUBLIC_BFF_URL=
# Base path used by the frontend when calling the BFF (typically https://<PAYPAY_API_DOMAIN>/api)
NEXT_PUBLIC_API_BASE=

# --- BFF (NestJS) ---
# Browser origin allowed by CORS; must be https://<PAYPAY_DOMAIN>
FRONTEND_ORIGIN=
# URL of the BTCPay Server instance (legacy name kept for compatibility)
BTCPAY_URL=
# Alternative variable name for BTCPAY_URL if you prefer BASE_URL semantics
BTCPAY_BASE_URL=
BTCPAY_API_KEY=
BTCPAY_WEBHOOK_SECRET=
STORE_ID=
BFF_URL=http://bff:4000
JWT_ACCESS_SECRET=
JWT_REFRESH_SECRET=

# --- Data stores ---
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=paypay
POSTGRES_USER=paypay
POSTGRES_PASSWORD=paypay

REDIS_HOST=redis
REDIS_PORT=6379
